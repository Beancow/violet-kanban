import{r as n,R as T}from"./index-0yr9KlQE.js";import{r as Fe}from"./index-tymuTqDW.js";import{b as Le,P as je,d as g,e as Y,c as Oe,u as ue,R as Me,f as F,B as ke,g as Ve,V as de,h as Ke,i as $e}from"./index-CUsz_pzo.js";import{c as He}from"./index-BgsicNeh.js";import{j as c}from"./jsx-runtime-D_zvdyIk.js";import"./index-DotmK1FS.js";var ee="ToastProvider",[te,We,Ue]=He("Toast"),[pe,yt]=Oe("Toast",[Ue]),[Ye,X]=pe(ee),fe=e=>{const{__scopeToast:t,label:s="Notification",duration:o=5e3,swipeDirection:l="right",swipeThreshold:d=50,children:p}=e,[v,w]=n.useState(null),[r,C]=n.useState(0),y=n.useRef(!1),L=n.useRef(!1);return s.trim()||console.error(`Invalid prop \`label\` supplied to \`${ee}\`. Expected non-empty \`string\`.`),c.jsx(te.Provider,{scope:t,children:c.jsx(Ye,{scope:t,label:s,duration:o,swipeDirection:l,swipeThreshold:d,toastCount:r,viewport:v,onViewportChange:w,onToastAdd:n.useCallback(()=>C(_=>_+1),[]),onToastRemove:n.useCallback(()=>C(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:y,isClosePausedRef:L,children:p})})};fe.displayName=ee;var me="ToastViewport",Xe=["F8"],J="toast.viewportPause",Q="toast.viewportResume",Te=n.forwardRef((e,t)=>{const{__scopeToast:s,hotkey:o=Xe,label:l="Notifications ({hotkey})",...d}=e,p=X(me,s),v=We(s),w=n.useRef(null),r=n.useRef(null),C=n.useRef(null),y=n.useRef(null),L=ue(t,y,p.onViewportChange),_=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=p.toastCount>0;n.useEffect(()=>{const i=R=>{var m;o.length!==0&&o.every(E=>R[E]||R.code===E)&&((m=y.current)==null||m.focus())};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[o]),n.useEffect(()=>{const i=w.current,R=y.current;if(S&&i&&R){const f=()=>{if(!p.isClosePausedRef.current){const h=new CustomEvent(J);R.dispatchEvent(h),p.isClosePausedRef.current=!0}},m=()=>{if(p.isClosePausedRef.current){const h=new CustomEvent(Q);R.dispatchEvent(h),p.isClosePausedRef.current=!1}},E=h=>{!i.contains(h.relatedTarget)&&m()},x=()=>{i.contains(document.activeElement)||m()};return i.addEventListener("focusin",f),i.addEventListener("focusout",E),i.addEventListener("pointermove",f),i.addEventListener("pointerleave",x),window.addEventListener("blur",f),window.addEventListener("focus",m),()=>{i.removeEventListener("focusin",f),i.removeEventListener("focusout",E),i.removeEventListener("pointermove",f),i.removeEventListener("pointerleave",x),window.removeEventListener("blur",f),window.removeEventListener("focus",m)}}},[S,p.isClosePausedRef]);const u=n.useCallback(({tabbingDirection:i})=>{const f=v().map(m=>{const E=m.ref.current,x=[E,...rt(E)];return i==="forwards"?x:x.reverse()});return(i==="forwards"?f.reverse():f).flat()},[v]);return n.useEffect(()=>{const i=y.current;if(i){const R=f=>{var x,h,N;const m=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!m){const j=document.activeElement,I=f.shiftKey;if(f.target===i&&I){(x=r.current)==null||x.focus();return}const A=u({tabbingDirection:I?"backwards":"forwards"}),K=A.findIndex(a=>a===j);G(A.slice(K+1))?f.preventDefault():I?(h=r.current)==null||h.focus():(N=C.current)==null||N.focus()}};return i.addEventListener("keydown",R),()=>i.removeEventListener("keydown",R)}},[v,u]),c.jsxs(ke,{ref:w,role:"region","aria-label":l.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&c.jsx(Z,{ref:r,onFocusFromOutsideViewport:()=>{const i=u({tabbingDirection:"forwards"});G(i)}}),c.jsx(te.Slot,{scope:s,children:c.jsx(F.ol,{tabIndex:-1,...d,ref:L})}),S&&c.jsx(Z,{ref:C,onFocusFromOutsideViewport:()=>{const i=u({tabbingDirection:"backwards"});G(i)}})]})});Te.displayName=me;var ve="ToastFocusProxy",Z=n.forwardRef((e,t)=>{const{__scopeToast:s,onFocusFromOutsideViewport:o,...l}=e,d=X(ve,s);return c.jsx(de,{"aria-hidden":!0,tabIndex:0,...l,ref:t,style:{position:"fixed"},onFocus:p=>{var r;const v=p.relatedTarget;!((r=d.viewport)!=null&&r.contains(v))&&o()}})});Z.displayName=ve;var k="Toast",Be="toast.swipeStart",qe="toast.swipeMove",ze="toast.swipeCancel",Ge="toast.swipeEnd",we=n.forwardRef((e,t)=>{const{forceMount:s,open:o,defaultOpen:l,onOpenChange:d,...p}=e,[v,w]=Le({prop:o,defaultProp:l??!0,onChange:d,caller:k});return c.jsx(je,{present:s||v,children:c.jsx(Ze,{open:v,...p,ref:t,onClose:()=>w(!1),onPause:Y(e.onPause),onResume:Y(e.onResume),onSwipeStart:g(e.onSwipeStart,r=>{r.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:g(e.onSwipeMove,r=>{const{x:C,y}=r.detail.delta;r.currentTarget.setAttribute("data-swipe","move"),r.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${C}px`),r.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:g(e.onSwipeCancel,r=>{r.currentTarget.setAttribute("data-swipe","cancel"),r.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),r.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),r.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),r.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:g(e.onSwipeEnd,r=>{const{x:C,y}=r.detail.delta;r.currentTarget.setAttribute("data-swipe","end"),r.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),r.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),r.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${C}px`),r.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y}px`),w(!1)})})})});we.displayName=k;var[Je,Qe]=pe(k,{onClose(){}}),Ze=n.forwardRef((e,t)=>{const{__scopeToast:s,type:o="foreground",duration:l,open:d,onClose:p,onEscapeKeyDown:v,onPause:w,onResume:r,onSwipeStart:C,onSwipeMove:y,onSwipeCancel:L,onSwipeEnd:_,...S}=e,u=X(k,s),[i,R]=n.useState(null),f=ue(t,a=>R(a)),m=n.useRef(null),E=n.useRef(null),x=l||u.duration,h=n.useRef(0),N=n.useRef(x),j=n.useRef(0),{onToastAdd:I,onToastRemove:q}=u,D=Y(()=>{var P;(i==null?void 0:i.contains(document.activeElement))&&((P=u.viewport)==null||P.focus()),p()}),A=n.useCallback(a=>{!a||a===1/0||(window.clearTimeout(j.current),h.current=new Date().getTime(),j.current=window.setTimeout(D,a))},[D]);n.useEffect(()=>{const a=u.viewport;if(a){const P=()=>{A(N.current),r==null||r()},b=()=>{const O=new Date().getTime()-h.current;N.current=N.current-O,window.clearTimeout(j.current),w==null||w()};return a.addEventListener(J,b),a.addEventListener(Q,P),()=>{a.removeEventListener(J,b),a.removeEventListener(Q,P)}}},[u.viewport,x,w,r,A]),n.useEffect(()=>{d&&!u.isClosePausedRef.current&&A(x)},[d,x,u.isClosePausedRef,A]),n.useEffect(()=>(I(),()=>q()),[I,q]);const K=n.useMemo(()=>i?ge(i):null,[i]);return u.viewport?c.jsxs(c.Fragment,{children:[K&&c.jsx(et,{__scopeToast:s,role:"status","aria-live":o==="foreground"?"assertive":"polite","aria-atomic":!0,children:K}),c.jsx(Je,{scope:s,onClose:D,children:Fe.createPortal(c.jsx(te.ItemSlot,{scope:s,children:c.jsx(Me,{asChild:!0,onEscapeKeyDown:g(v,()=>{u.isFocusedToastEscapeKeyDownRef.current||D(),u.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(F.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":u.swipeDirection,...S,ref:f,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:g(e.onKeyDown,a=>{a.key==="Escape"&&(v==null||v(a.nativeEvent),a.nativeEvent.defaultPrevented||(u.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:g(e.onPointerDown,a=>{a.button===0&&(m.current={x:a.clientX,y:a.clientY})}),onPointerMove:g(e.onPointerMove,a=>{if(!m.current)return;const P=a.clientX-m.current.x,b=a.clientY-m.current.y,O=!!E.current,M=["left","right"].includes(u.swipeDirection),$=["left","up"].includes(u.swipeDirection)?Math.min:Math.max,Ie=M?$(0,P):0,De=M?0:$(0,b),z=a.pointerType==="touch"?10:2,H={x:Ie,y:De},re={originalEvent:a,delta:H};O?(E.current=H,W(qe,y,re,{discrete:!1})):ae(H,u.swipeDirection,z)?(E.current=H,W(Be,C,re,{discrete:!1}),a.target.setPointerCapture(a.pointerId)):(Math.abs(P)>z||Math.abs(b)>z)&&(m.current=null)}),onPointerUp:g(e.onPointerUp,a=>{const P=E.current,b=a.target;if(b.hasPointerCapture(a.pointerId)&&b.releasePointerCapture(a.pointerId),E.current=null,m.current=null,P){const O=a.currentTarget,M={originalEvent:a,delta:P};ae(P,u.swipeDirection,u.swipeThreshold)?W(Ge,_,M,{discrete:!0}):W(ze,L,M,{discrete:!0}),O.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),u.viewport)})]}):null}),et=e=>{const{__scopeToast:t,children:s,...o}=e,l=X(k,t),[d,p]=n.useState(!1),[v,w]=n.useState(!1);return st(()=>p(!0)),n.useEffect(()=>{const r=window.setTimeout(()=>w(!0),1e3);return()=>window.clearTimeout(r)},[]),v?null:c.jsx(Ve,{asChild:!0,children:c.jsx(de,{...o,children:d&&c.jsxs(c.Fragment,{children:[l.label," ",s]})})})},tt="ToastTitle",Ee=n.forwardRef((e,t)=>{const{__scopeToast:s,...o}=e;return c.jsx(F.div,{...o,ref:t})});Ee.displayName=tt;var ot="ToastDescription",xe=n.forwardRef((e,t)=>{const{__scopeToast:s,...o}=e;return c.jsx(F.div,{...o,ref:t})});xe.displayName=ot;var ye="ToastAction",Re=n.forwardRef((e,t)=>{const{altText:s,...o}=e;return s.trim()?c.jsx(Ce,{altText:s,asChild:!0,children:c.jsx(Pe,{...o,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${ye}\`. Expected non-empty \`string\`.`),null)});Re.displayName=ye;var he="ToastClose",Pe=n.forwardRef((e,t)=>{const{__scopeToast:s,...o}=e,l=Qe(he,s);return c.jsx(Ce,{asChild:!0,children:c.jsx(F.button,{type:"button",...o,ref:t,onClick:g(e.onClick,l.onClose)})})});Pe.displayName=he;var Ce=n.forwardRef((e,t)=>{const{__scopeToast:s,altText:o,...l}=e;return c.jsx(F.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0,...l,ref:t})});function ge(e){const t=[];return Array.from(e.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&t.push(o.textContent),nt(o)){const l=o.ariaHidden||o.hidden||o.style.display==="none",d=o.dataset.radixToastAnnounceExclude==="";if(!l)if(d){const p=o.dataset.radixToastAnnounceAlt;p&&t.push(p)}else t.push(...ge(o))}}),t}function W(e,t,s,{discrete:o}){const l=s.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:s});t&&l.addEventListener(e,t,{once:!0}),o?$e(l,d):l.dispatchEvent(d)}var ae=(e,t,s=0)=>{const o=Math.abs(e.x),l=Math.abs(e.y),d=o>l;return t==="left"||t==="right"?d&&o>s:!d&&l>s};function st(e=()=>{}){const t=Y(e);Ke(()=>{let s=0,o=0;return s=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(s),window.cancelAnimationFrame(o)}},[t])}function nt(e){return e.nodeType===e.ELEMENT_NODE}function rt(e){const t=[],s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const l=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||l?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;s.nextNode();)t.push(s.currentNode);return t}function G(e){const t=document.activeElement;return e.some(s=>s===t?!0:(s.focus(),document.activeElement!==t))}var at=fe,it=Te,be=we,_e=Ee,Se=xe,Ne=Re;const ct="_viewport_jvrn6_1",lt="_toastRoot_jvrn6_17",ut="_toastTitle_jvrn6_50",dt="_toastDescription_jvrn6_58",pt="_toastAction_jvrn6_66",V={viewport:ct,toastRoot:lt,toastTitle:ut,toastDescription:dt,toastAction:pt},ft=at,Ae=()=>T.createElement(it,{className:V.viewport}),B=T.forwardRef(({className:e,...t},s)=>T.createElement(be,{ref:s,className:`${V.toastRoot} ${e}`,...t}));B.displayName=be.displayName;const oe=T.forwardRef(({className:e,...t},s)=>T.createElement(_e,{ref:s,className:`${V.toastTitle} ${e}`,...t}));oe.displayName=_e.displayName;const se=T.forwardRef(({className:e,...t},s)=>T.createElement(Se,{ref:s,className:`${V.toastDescription} ${e}`,...t}));se.displayName=Se.displayName;const ne=T.forwardRef(({className:e,...t},s)=>T.createElement(Ne,{ref:s,className:`${V.toastAction} ${e}`,...t}));ne.displayName=Ne.displayName;Ae.__docgenInfo={description:"",methods:[],displayName:"ToastViewport"};B.__docgenInfo={description:"",methods:[]};oe.__docgenInfo={description:"",methods:[]};se.__docgenInfo={description:"",methods:[]};ne.__docgenInfo={description:"",methods:[]};const Rt={title:"Components/Toast",component:B,tags:["autodocs"]},U={args:{title:"Saved",description:"Your changes were saved.",actionLabel:"Undo"},render:e=>T.createElement(ft,null,T.createElement(T.Fragment,null,T.createElement(B,null,T.createElement(oe,null,e.title),T.createElement(se,null,e.description),T.createElement(ne,{asChild:!0,altText:e.actionLabel},T.createElement("button",null,e.actionLabel))),T.createElement(Ae,null)))};var ie,ce,le;U.parameters={...U.parameters,docs:{...(ie=U.parameters)==null?void 0:ie.docs,source:{originalSource:`{
  args: {
    title: 'Saved',
    description: 'Your changes were saved.',
    actionLabel: 'Undo'
  } as Partial<ToastArgs>,
  render: (args: any) => React.createElement(ToastProvider, null, React.createElement(React.Fragment, null, React.createElement(ToastRoot, null, React.createElement(ToastTitle, null, args.title), React.createElement(ToastDescription, null, args.description), React.createElement(ToastAction, {
    asChild: true,
    altText: args.actionLabel
  }, React.createElement('button', null, args.actionLabel))), React.createElement(ToastViewport, null)))
}`,...(le=(ce=U.parameters)==null?void 0:ce.docs)==null?void 0:le.source}}};const ht=["Default"];export{U as Default,ht as __namedExportsOrder,Rt as default};
